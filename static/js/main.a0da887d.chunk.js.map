{"version":3,"sources":["../external \"React\"","globals/fake-data.js","../external \"ReactDOM\"","pages/preview.js","core/settings.js","globals/fake-media.js","globals/embeds.js","globals/api-routes.js","globals/api-fetch.js","core/api-fetch.js","core/media-upload.js","pages/editor.js","index.js"],"names":["module","exports","React","date","Date","toISOString","pages","page","id","content","raw","rendered","date_gmt","title","excerpt","status","revisions","count","last_id","parent","theme_style","type","link","window","location","origin","categories","featured_media","permalink_template","preview_link","_links","post","getPage","JSON","parse","localStorage","getItem","savePage","data","item","setItem","stringify","changeType","deletePage","setTimeout","removeItem","sessionStorage","reload","ReactDOM","domReady","wp","Preview","props","state","editorStyle","document","querySelector","remove","style","replace","this","setState","code","getElementById","innerText","script","createElement","async","src","body","appendChild","html","trim","container","innerHTML","scripts","getElementsByTagName","s","frontendScript","Buffer","from","toString","dangerouslySetInnerHTML","__html","Component","userSettings","secure","time","uid","wpApiSettings","root","nonce","versionString","postboxes","add_postbox_toggles","args","console","log","mediaList","getMedia","params","sizes","thumbnail","source_url","caption","media_type","mime_type","media_details","file","width","height","image_meta","createMedia","Promise","resolve","reader","FileReader","onload","img","length","split","result","push","readAsDataURL","getEmbed","url","a","cors_api_host","hostname","URL","provider","providers","find","provider_url","includes","endpoints","fetch","response","json","path","method","handler","payload","headers","get","value","types","themes","Response","taxonomies","users","block","query","matchRoute","pattern","pathname","res","r","p","l","Math","max","i","charAt","param","slice","join","matchRouteList","options","matchMethod","source","target","parseQS","qs","reduce","decodeURIComponent","apiFetch","_qs","routes","error","use","createNonceMiddleware","createRootURLMiddleware","setFetchHandler","nonceMiddleware","hooks","addAction","rest_nonce","lodash","__","i18n","Popover","components","withSelect","addFilter","MediaContainer","onImageClick","bind","onSelect","closePopover","gallery","multiple","imgObject","alt","alt_text","mime","subtype","media","allowedTypes","items","filter","className","map","sourceUrl","buttonStyle","backgroundImage","key","onClick","MediaLibrary","select","getMediaItems","MediaUpload","isVisible","openPopover","mediaLibrary","onClose","event","stopPropagation","position","headerTitle","render","open","replaceMediaUpload","getEditorSettings","editPost","Editor","resetLocalStorage","ev","preventDefault","changePostType","slug","postType","settings","alignWide","availableTemplates","allowedBlockTypes","disableCustomColors","disableCustomFontSizes","disablePostFormats","titlePlaceholder","bodyPlaceholder","isRTL","autosaveInterval","imageSizes","richEditingEnabled","postLock","isLocked","postLockUtils","enableCustomFields","dispatch","disablePublishSidebar","disableTips","_wpLoadBlockEditor","initializeEditor","Fragment","rest_base","name","BrowserRouter","Switch","Route","exact","component"],"mappings":"6EAAAA,EAAOC,QAAUC,O,kLCAjB,IAAMC,GAAQ,IAAIC,MAAQC,cAEnB,IAAMC,EAAQ,CACnBC,KAAM,CACJC,GAAI,EACJC,QAAS,CACPC,IAAK,GACLC,SAAU,IAEZR,OACAS,SAAUT,EACVU,MAAO,CACLH,IAAK,eACLC,SAAU,gBAEZG,QAAS,CACPJ,IAAK,GACLC,SAAU,IAEZI,OAAQ,QACRC,UAAW,CAAEC,MAAO,EAAGC,QAAS,GAChCC,OAAQ,EACRC,YAAa,KACbC,KAAM,OACNC,KAAK,GAAD,OAAKC,OAAOC,SAASC,OAArB,YACJC,WAAY,GACZC,eAAgB,EAChBC,mBAAmB,GAAD,OAAKL,OAAOC,SAASC,OAArB,YAClBI,aAAa,GAAD,OAAKN,OAAOC,SAASC,OAArB,YACZK,OAAQ,CACN,8BAA+B,GAC/B,8BAA+B,KAGnCC,KAAM,CACJvB,GAAI,EACJC,QAAS,CACPC,IAAK,GACLC,SAAU,IAEZR,OACAS,SAAUT,EACVU,MAAO,CACLH,IAAK,eACLC,SAAU,gBAEZG,QAAS,CACPJ,IAAK,GACLC,SAAU,IAEZI,OAAQ,QACRC,UAAW,CAAEC,MAAO,EAAGC,QAAS,GAChCC,OAAQ,EACRC,YAAa,KACbC,KAAM,OACNC,KAAK,GAAD,OAAKC,OAAOC,SAASC,OAArB,YACJC,WAAY,GACZC,eAAgB,EAChBC,mBAAmB,GAAD,OAAKL,OAAOC,SAASC,OAArB,YAClBI,aAAa,GAAD,OAAKN,OAAOC,SAASC,OAArB,YACZK,OAAQ,CACN,8BAA+B,GAC/B,8BAA+B,MAM9B,SAASE,IAAyB,IAAhBX,EAAe,0DAAR,OAC9B,OAAOY,KAAKC,MAAMC,aAAaC,QAAQ,mBAAqB9B,EAAMe,GAG7D,SAASgB,EAAUC,GAAsB,IAAhBjB,EAAe,0DAAR,OACrC,IAAMkB,EAAI,kBACLP,EAAQX,GADH,CAERb,GAAI8B,EAAK9B,IAAM,IAGjB,GAAG8B,EAAKzB,MAAO,CACb0B,EAAK1B,MAAQ,CACXH,IAAK4B,EAAKzB,MACVF,SAAU2B,EAAKzB,OAGnB,GAAGyB,EAAK7B,QAAS,CACf8B,EAAK9B,QAAU,CACbC,IAAK4B,EAAK7B,SAId,GAAG6B,EAAKxB,QAAS,CACfyB,EAAKzB,QAAU,CACbJ,IAAK4B,EAAKxB,QACVH,SAAU2B,EAAKxB,SAInBqB,aAAaK,QAAQ,gBAAiBP,KAAKQ,UAAUF,IAGhD,SAASG,EAAYrB,GAC1B,IAAMkB,EAAOP,EAAQX,GACrBkB,EAAKlB,KAAOA,EAEZc,aAAaK,QAAQ,gBAAiBP,KAAKQ,UAAUF,IAGhD,SAASI,IAGdC,YAAW,WACTT,aAAaU,WAAW,iBACxBC,eAAeD,WAAW,mCAC1BtB,OAAOC,SAASuB,WACf,O,2hGClHL/C,EAAOC,QAAU+C,U,22ECGTC,EAAa1B,OAAO2B,GAApBD,S,IAGFE,E,gCACJ,WAAaC,GAAQ,IAAD,yBAClB,kDAAMA,IAEN,EAAKC,MAAQ,CACX1C,SAAU,IAJM,S,+DAUlB,IAAM2C,EAAcC,SAASC,cAAc,kCAC3C,GAAIF,EAAa,CACfA,EAAYG,SAId,IAAMC,EAAQH,SAASC,cAAc,yCACrC,GAAIE,EAAO,CACTA,EAAMD,Y,4CAKR,IAAMlD,EAAOyB,iBACb,IAAMrB,EACJJ,GAAQA,EAAKE,SAAWF,EAAKE,QAAQC,KACrCH,EAAKE,QAAQC,IAAIiD,QAAQ,gBAAiB,KACvC,GAELC,KAAKC,SAAS,CACZlD,aAGFsC,GAAS,WAEP,IAAMa,EAAOP,SAASQ,eAAe,oBACrC,GAAID,GAAQA,EAAKE,UAAW,CAC1B,IAAMC,EAASV,SAASW,cAAc,UACtCD,EAAO5C,KAAO,kBACd4C,EAAOE,MAAQ,KACfF,EAAOG,IAAP,sCAA4CN,EAAKE,WACjDT,SAASc,KAAKC,YAAYL,GAI5B,IAAMM,EAAO5D,EAAS6D,OACtB,IAAMC,EAAYlB,SAASW,cAAc,OACzCO,EAAUC,UAAYH,EAEtB,IAAMI,EAAUF,EAAUG,qBAAqB,UAhBlC,2CAiBb,IAAI,IAAJ,EAAeD,EAAf,mDAAwB,CAAC,IAAfE,EAAc,QACtB,IAAMZ,EAASV,SAASW,cAAc,UACtCD,EAAO5C,KAAO,kBACd4C,EAAOE,MAAQ,KAEf,GAAIU,EAAEb,UAAW,CAEf,IAAMc,EAAiBC,EAAOC,KAAKH,EAAEb,WAAWiB,SAAS,UACzDhB,EAAOG,IAAP,sCAA4CU,OAEzC,CAEHb,EAAOG,IAAMS,EAAET,IAGjBb,SAASc,KAAKC,YAAYL,IAhCf,iG,iCAqCN,IACDtD,EAAaiD,KAAKP,MAAlB1C,SACR,OAAOA,EACL,yBAAKuE,wBAAyB,CAAEC,OAAQxE,KACxC,gCAAQ,wE,UA3EQT,IAAMkF,WA+EbjC,W,2ECnFf5B,OAAO8D,aAAe,CACpBC,OAAQ,GACRC,KAAM,QACNC,IAAK,GAIPjE,OAAOkE,cAAgB,CACrBC,KAAMnE,OAAOC,SAASC,OAAS,IAC/BkE,MAAO,YACPC,cAAe,UAIjBrE,OAAOsE,UAAYtE,OAAOsE,WAAa,CACrCC,oBAAqB,WAACvF,EAAMwF,GAC1BC,QAAQC,IAAI,OAAQ1F,GACpByF,QAAQC,IAAI,OAAQF,M,oQCnBxB,IAAM5F,GAAQ,IAAIC,MAAQC,cAC1B,IAAMoB,EAASF,OAAOC,SAASC,OAGxB,IAAMyE,EAAY,GAElB,SAASC,EAAU3F,GAAkB,IAAd4F,EAAa,0DAAJ,GACrC,IAAMC,EAAQ,GACd,GAAID,EAAOE,UAAW,CACpBD,EAAMC,UAAY,CAChBC,WAAYH,EAAOE,WAIvB,MAAO,CACL9F,KACAK,MAAO,CAAEH,IAAK,GAAIC,SAAU,IAC5B6F,QAAS,CAAE9F,IAAK,GAAIC,SAAU,IAC9BC,SAAUT,EACVA,OACAsG,WAAYL,EAAOK,WACnBC,UAAWN,EAAOM,UAClBH,WAAYH,EAAOG,WAEnBI,cAAe,CACbC,KAAM,GACNC,MAAO,EACPC,OAAQ,EACRC,WAAY,GACZV,UAKC,SAASW,EAAaJ,GAC3B,OAAO,IAAIK,SAAQ,SAAAC,GACjB,IAAMC,EAAS,IAAI5F,OAAO6F,WAC1BD,EAAOE,OAAS,WAEd,IAAMC,EAAMnB,EAASD,EAAUqB,OAAS,EAAG,CACzCd,WAAYG,EAAKvF,KAAKmG,MAAM,KAAK,GACjCd,UAAWE,EAAKvF,KAChBkF,WAAYY,EAAOM,SAErBvB,EAAUwB,KAAKJ,GACfJ,EAAQI,IAEVH,EAAOQ,cAAcf,MAMzBV,EAAUwB,KAAKvB,EAAS,EAAG,CACzBM,WAAY,QACZC,UAAW,aACXH,WAAW,GAAD,OAAK9E,EAAL,sBAGZyE,EAAUwB,KAAKvB,EAAS,EAAG,CACzBM,WAAY,QACZC,UAAW,aACXH,WAAW,GAAD,OAAK9E,EAAL,uBAGZyE,EAAUwB,KAAKvB,EAAS,EAAG,CACzBM,WAAY,QACZC,UAAW,YACXH,WAAW,GAAD,OAAK9E,EAAL,sBAKZyE,EAAUwB,KAAKvB,EAAS,EAAG,CACzBM,WAAY,QACZC,UAAW,YACXH,WAAW,GAAD,OAAK9E,EAAL,qBACV6E,UAAU,GAAD,OAAK7E,EAAL,8BAGXyE,EAAUwB,KAAKvB,EAAS,EAAG,CACzBM,WAAY,QACZC,UAAW,YACXH,WAAW,GAAD,OAAK9E,EAAL,qBACV6E,UAAU,GAAD,OAAK7E,EAAL,8BAKXyE,EAAUwB,KAAKvB,EAAS,EAAG,CACzBM,WAAY,QACZC,UAAW,YACXH,WAAW,GAAD,OAAK9E,EAAL,qBACV6E,UAAU,GAAD,OAAK7E,EAAL,8B,YC3FJ,SAAemG,EAAtB,kC,wCAAO,WAAyBC,GAAzB,uBAAAC,EAAA,0DAGCC,EAAgB,uCAChBC,EAAY,IAAIC,IAAIJ,GAAMG,SAG1BE,EAAWC,EAAUC,MAAK,YAAuB,IAApBC,EAAmB,EAAnBA,aACjC,OAAOA,EAAaC,SAASN,IAAaA,EAASM,SAASD,MARzD,KAWFH,GAAYA,EAASK,WAXnB,gBAaGF,EAAeH,EAASK,UAAU,GAAGV,IAbxC,gBAgBoBW,MAAM,GAAD,OAAIT,GAAJ,OAAoBM,EAApB,gBAAwCR,IAhBjE,OAgBGY,EAhBH,gCAiBIA,EAASC,QAjBb,4C,2FCUQ,OAEb,CACEC,KAAM,eACNC,OAAQ,IACRC,QAHF,aAII,MAAO,CAAE7G,oBAGb,CACE2G,KAAM,CACJ,oBACA,+BAEFC,OAAQ,CAAC,OAAQ,OACjBC,QANF,cAMyB,IAAZC,EAAW,EAAXA,QACTzG,eAASyG,GACT,OAAO9G,mBAGX,CACE2G,KAAM,oBACNC,OAAQ,SACRC,QAHF,aAIIlG,iBACA,MAAO,KAGX,CACEgG,KAAM,CACJ,oBACA,+BAEFC,OAAQ,IACRC,QANF,aAOI,OAAO7G,mBAIX,CACE2G,KAAM,eACNC,OAAQ,IACRC,QAHF,aAII,MAAO,CAAE7G,eAAQ,WAGrB,CACE2G,KAAM,oBACNC,OAAQ,SACRC,QAHF,aAIIlG,iBACA,MAAO,KAGX,CACEgG,KAAM,CACJ,oBACA,+BAEFC,OAAQ,CAAC,OAAQ,OACjBC,QANF,cAMyB,IAAZC,EAAW,EAAXA,QACTzG,eAASyG,GACT,OAAO9G,eAAQ,UAGnB,CACE2G,KAAM,CACJ,oBACA,+BAEFC,OAAQ,IACRC,QANF,aAOI,OAAO7G,eAAQ,UAKnB,CACE2G,KAAM,eACNC,OAAQ,UACRC,QAHF,aAII,MAAO,CACLE,QAAS,CACPC,IADO,WACFC,GACH,GAAIA,IAAU,QAAS,CAAE,MAAO,CAAE,cAM5C,CACEN,KAAM,eACNC,OAAQ,OACFC,QAHR,qIAGmBC,EAHnB,EAGmBA,QACTlC,EAAOkC,EAAQE,IAAI,QAJ7B,IAKWpC,EALX,gCAKwBI,EAAYJ,GALpC,8CAK4C,GAL5C,6IAQA,CACE+B,KAAM,eACNC,OAAQ,IACRC,QAHF,aAII,OAAO3C,IAGX,CACEyC,KAAM,oBACNC,OAAQ,IACRC,QAHF,cAGwB,IAAXzC,EAAU,EAAVA,OACT,OAAOF,GAAWE,EAAO5F,GAAK,KAMlC,CACEmI,KAAM,eACNC,OAAQ,IACRC,QAHF,aAII,OAAOK,IAGX,CACEP,KAAM,sBACNC,OAAQ,IACRC,QAHF,cAGwB,IAAXzC,EAAU,EAAVA,OACT,OAAO8C,EAAM9C,EAAO/E,OAAS,KAKjC,CACEsH,KAAM,gBACNC,OAAQ,IACRC,QAHF,aAII,MAAO,KAKX,CACEF,KAAM,gBACNC,OAAQ,IACRC,QAHF,aAII,OAAOM,IAKX,CACER,KAAM,oBACNC,OAAQ,IACRC,QAHF,aAII,OAAO,IAAItH,OAAO6H,SAASnH,KAAKQ,UAAU4G,MAG9C,CACEV,KAAM,2BACNC,OAAQ,IACRC,QAHF,cAGwB,IAAXzC,EAAU,EAAVA,OACT,OAAOiD,EAAWjD,EAAO/E,OAAS,KAKtC,CACEsH,KAAM,oBACNC,OAAQ,IACRC,QAHF,aAII,OAAOnH,IAKX,CACEiH,KAAM,gBACNC,OAAQ,IACRC,QAHF,aAII,OAAO,IAAItH,OAAO6H,SAASnH,KAAKQ,UAAU6G,MAG9C,CACEX,KAAM,sBACNC,OAAQ,IACRC,QAHF,aAII,OAAOS,EAAM,IAAM,KAKvB,CACEX,KAAM,iCACNC,OAAQ,IACRC,QAHF,cAGwB,IAAXzC,EAAU,EAAVA,OACT,MAAO,CACLzF,SAAS,gEAAD,OAAkEyF,EAAOmD,MAAzE,eAMd,CACEZ,KAAM,gBACNC,OAAQ,IACRC,QAHF,aAII,MAAO,KAKX,CACEF,KAAM,oBACNC,OAAQ,IACRC,QAHF,cAGuB,IAAVW,EAAS,EAATA,MACT,OAAO5B,EAAS4B,EAAM3B,QC9N5B,SAAS4B,EAAYC,EAASC,GAC5B,IAAMC,EAAM,GACZ,IAAMC,EAAIH,EAAQlC,MAAM,KAAMsC,EAAIH,EAASnC,MAAM,KACjD,IAAMuC,EAAIC,KAAKC,IAAIJ,EAAEtC,OAAQuC,EAAEvC,QAE/B,IAAI2C,EAAI,EACR,KAAMA,EAAIH,EAAGG,IAAK,CAChB,GAAGL,EAAEK,KAAOJ,EAAEI,GAAI,CAChB,SAEF,IAAIL,EAAEK,KAAOJ,EAAEI,GAAI,CACjB,OAAO,MAET,GAAGL,EAAEK,GAAGC,OAAO,KAAO,KAAON,EAAEK,GAAGC,OAAON,EAAEK,GAAG3C,OAAS,KAAO,IAAK,CACjE,IAAM6C,EAAQP,EAAEK,GAAGG,MAAM,GAAI,GAC7B,GAAGD,EAAM9B,SAAS,KAAM,CACtBsB,EAAIQ,EAAMzG,QAAQ,IAAK,KAAOmG,EAAEO,MAAMH,GAAGI,KAAK,KAC9C,OAAOV,EAETA,EAAIQ,GAASN,EAAEI,GACf,SAEF,OAAO,MAET,OAAON,EAGT,SAASW,EAAgBC,EAASb,GAChC,UAAUa,IAAY,SAAU,CAC9B,OAAOf,EAAWe,EAASb,GAFa,2CAK1C,IAAI,IAAJ,EAAqBa,EAArB,mDAA8B,CAAC,IAArBd,EAAoB,QAC5B,IAAMtD,EAASqD,EAAWC,EAASC,GACnC,GAAGvD,EAAQ,CACT,OAAOA,IAR+B,2FAW1C,OAAO,MAGT,SAASqE,EAAaC,EAAQC,GAC5B,OAAQA,GAAUA,IAAW,KAAOA,IAAWD,GAAUC,EAAOrC,SAASoC,GAG3E,SAASE,EAASC,GAChB,OAAOA,EAAGrD,MAAM,KAAKsD,QAAO,SAAChD,EAAGoC,EAAGJ,GACjCA,EAAII,EAAE1C,MAAM,KACZM,EAAEiD,mBAAmBjB,EAAE,KAAOiB,mBAAmBjB,EAAE,IAAM,IACzD,OAAOhC,IACN,IAIL,IAAMkD,EAAW,SAAXA,EAAWR,GAAY,IAAD,EACDA,EAAnB5B,SADoB,WACX,MADW,MAElBD,EAAmC6B,EAAnC7B,KAAMrG,EAA6BkI,EAA7BlI,KAAM+B,EAAuBmG,EAAvBnG,KAAMwD,EAAiB2C,EAAjB3C,IAAKkB,EAAYyB,EAAZzB,QAFL,MAGAJ,EAAKnB,MAAM,KAHX,sBAGlBmC,EAHkB,KAGRsB,EAHQ,KAI1B,IAAMzB,EAAQoB,EAAQK,GACtB,IAAMnC,EAAUxG,GAAQ+B,EAExB,GAAG0E,GAAWA,EAAQ,0BAA2B,CAC/CH,EAASG,EAAQ,0BARO,2CAa1B,IAAI,IAAJ,EAAemC,EAAf,mDAAuB,CAAC,IAAdrB,EAAa,QACrB,IAAMzD,EAASmE,EAAeV,EAAElB,KAAMgB,GACtC,GAAGvD,EAAQ,CACT,GAAGqE,EAAY7B,EAAQiB,EAAEjB,QAAS,CAChC,OAAOiB,EAAEhB,QAAQ,CACfD,SAAQf,MAAK8B,WAAUvD,SAAQoD,QAAOV,eAlBpB,2FAwB1B9C,QAAQmF,MAAM,mBAAoBvC,EAAQD,EAAMG,GAChD,MAAO,IAGMkC,Q,MC9EXzJ,OAAO2B,GAAG8H,SAJZI,E,EAAAA,IACAC,E,EAAAA,sBACAC,E,EAAAA,wBACAC,E,EAAAA,gBAGF,IAAMC,EAAkBH,EAAsB9J,OAAOkE,cAAcE,OAEnEyF,EAAII,GAEJjK,OAAO2B,GAAGuI,MAAMC,UACd,iBACA,0CACA,SAAUjD,GACR,GAAIA,EAASkD,WAAY,CACvBH,EAAgB7F,MAAQ8C,EAASkD,eAKvCP,EAAIE,EAAwB/J,OAAOkE,cAAcC,OAEjD6F,EAAgBP,G,oFCtBOzJ,OAAf2B,E,EAAAA,GAAI0I,E,EAAAA,O,IACJ5C,EAAQ4C,EAAR5C,I,IAEA6C,EAAO3I,EAAG4I,KAAVD,G,IACAE,GAAY7I,EAAG8I,WAAfD,Q,IACAE,GAAe/I,EAAGZ,KAAlB2J,W,IACAC,GAAchJ,EAAGuI,MAAjBS,U,IAGFC,G,gCACJ,WAAa/I,GAAQ,IAAD,yBAClB,kDAAMA,IACN,EAAKgJ,aAAe,EAAKA,aAAaC,KAAlB,mCAFF,S,uDAKN/E,GAAM,IAAD,EACqD1D,KAAKR,MAAnEkJ,EADS,EACTA,SAAUC,EADD,EACCA,aADD,IACeC,UADf,WACyB,MADzB,MACgCC,WADhC,WAC2C,MAD3C,EAGjB,IAAMC,EAAY,CAChBC,IAAKrF,EAAIsF,SACTpG,QAASc,EAAId,QAAQ9F,IACrBF,GAAI8G,EAAI9G,GACRc,KAAMgG,EAAIhG,KACVuL,KAAMvF,EAAIZ,UACVL,MAAOiB,EAAIX,cAAcN,MACzBM,cAAeW,EAAIX,cACnBmG,QAASxF,EAAIZ,UAAUc,MAAM,KAAM,GACnCnG,KAAMiG,EAAIZ,UAAUc,MAAM,KAAM,GAChCK,IAAKP,EAAIf,WACTjE,KAAMgF,EAAIhF,MAGZ,GAAIkK,GAAWC,EAAU,CACvBH,EAAS,CAACI,QAEP,CACHJ,EAASI,GAEXH,M,iCAGS,IAAD,aAC6B3I,KAAKR,MAAlC2J,EADA,EACAA,MADA,IACOC,eADP,WACsB,GADtB,EAER,IAAMC,EAAQF,GAASA,EAAMG,QAAO,SAAA3K,GAAI,OAAMyK,EAAazF,QAAUyF,EAAa1E,SAAS/F,EAAKkE,eAChG,OACE,2BAAK0G,UAAU,mCACXF,GAASA,EAAMG,KAAI,SAAA7K,GACnB,IAAM8K,EAAYrE,EAAIzG,EAAM,6CACzBA,EAAKkE,aAAe,SAAWlE,EAAKgE,WACvC,IAAM+G,EAAcD,EAAY,CAAEE,gBAAgB,OAAD,OAASF,EAAT,MAA0B,GAE3E,OAAO,8BACLG,IAAMjL,EAAK/B,GACX2M,UAAU,0BACVzJ,MAAQ4J,EACRG,QAAU,oBAAM,EAAKrB,aAAa7J,c,UA9CjB6C,gBAuD7B,IAAMsI,GAAezB,IAAW,SAAA0B,GAAM,MAAK,CACzCZ,MAAOY,EAAO,QAAQC,mBADH3B,CAEjBE,I,IAGE0B,G,gCACJ,WAAazK,GAAQ,IAAD,yBAClB,kDAAMA,IACN,EAAKC,MAAQ,CAAEyK,UAAW,OAE1B,EAAKC,YAAc,EAAKA,YAAY1B,KAAjB,mCACnB,EAAKE,aAAe,EAAKA,aAAaF,KAAlB,mCALF,S,wDASlBzI,KAAKC,SAAS,CAAEiK,UAAW,S,uCAI3BlK,KAAKC,SAAS,CAAEiK,UAAW,U,iCAI3B,IAAKlK,KAAKR,MAAM4K,aAAc,CAC5BhI,QAAQC,IAAI,gCACZ,OAAO,MAHD,IAMA6H,EAAclK,KAAKP,MAAnByK,UAER,OAAO,oBAAC,cAAD,KACHA,GACF,oBAAC/B,GAAD,CACEoB,UAAU,yBACVc,QAAUrK,KAAK2I,aACfkB,QAAU,WAAAS,GAAK,OAAIA,EAAMC,mBACzBC,SAAS,cACTC,YAAcxC,EAAG,kBAEjB,oBAAC6B,GAAD,iBACO9J,KAAKR,MADZ,CAEEmJ,aAAe3I,KAAK2I,iBAItB3I,KAAKR,MAAMkL,OAAO,CAAEC,KAAM3K,KAAKmK,mB,UAxCb3I,gBA8C1B,IAAMoJ,GAAqB,SAArBA,IAAqB,OAAMvC,IAAW,SAAA0B,GAAM,MAAK,CACrDK,aAAcL,EAAO,eAAec,oBAAoBT,gBADzB/B,CAE7B4B,KAGJ3B,GACE,qBACA,8DACAsC,I,iCCzHmCjN,OAAO2B,GAApCZ,G,GAAAA,KAAMoM,G,GAAAA,SAAUzL,G,GAAAA,S,IAGlB0L,G,gCACJ,WAAavL,GAAQ,IAAD,yBAClB,kDAAMA,IADY,EAoDpBwL,kBAAoB,SAAAC,GAClBA,EAAGC,iBAEH3M,aAAaU,WAAW,iBACxBC,eAAeD,WAAW,mCAC1BtB,OAAOC,SAASuB,UAzDE,EA4DpBgM,eAAiB,SAACF,EAAIxN,GACpBwN,EAAGC,iBAEH,IAAME,EAAO3N,EAAKgJ,MAAM,GAAI,GAC5B3H,eAAWsM,GAEXzN,OAAOC,SAASmC,QAAQtC,IA/DxB,IAAIA,EAAOE,OAAOC,SAASmI,SAAShG,QAAQ,MAAO,IACnDtC,EAAOA,EAAKgJ,MAAM,GAAI,GAEtB,EAAKhH,MAAQ,CACX4L,SAAU5N,GAAQ,QAPF,S,8DAWE,IACZ4N,EAAarL,KAAKP,MAAlB4L,SAER,IAAMC,EAAW,CACfC,UAAW,KACXC,mBAAoB,GACpBC,kBAAmB,KACnBC,oBAAqB,MACrBC,uBAAwB,MACxBC,mBAAoB,MACpBC,iBAAkB,YAClBC,gBAAiB,2BACjBC,MAAO,MACPC,iBAAkB,EAClBlM,MAAO,GACPmM,WAAY,GACZC,mBAAoB,KACpBC,SAAU,CACRC,SAAU,OAEZC,cAAe,CACbtK,MAAO,aAETuK,mBAAoB,KACpBlC,aAAc,MAIhB1L,GAAK6N,SAAS,eAAeC,wBAG7B9N,GAAK6N,SAAS,YAAYE,cAG1B9O,OAAO+O,mBAAqB,IAAIrJ,SAAQ,SAAAC,GACtCjE,IAAS,WACPiE,EAAQwH,GAAS6B,iBAAiB,SAAUtB,EAAU,EAAGC,EAAU,a,iCAsB9D,IAAD,WACAD,EAAarL,KAAKP,MAAlB4L,SAER,OACE,kBAAC,IAAMuB,SAAP,KACE,yBAAKrD,UAAU,cAEX,CAAC,OAAQ,QAAQC,KAAI,SAAA/L,GACnB,OACE,4BACEmM,IAAMnM,EACN8L,UAAS,4BAAwB9L,IAAS4N,EAAW,aAAe,IACpExB,QAAU,WAAAoB,GAAE,OAAI,EAAKE,eAAeF,EAAI3F,EAAM7H,GAAMoP,aACnDvH,EAAM7H,GAAMqP,SAKrB,4BAAQrP,KAAK,SAAS8L,UAAU,gCAC9BM,QAAU7J,KAAKgL,mBADjB,0BAGF,yBAAKpO,GAAG,SAAS2M,UAAU,2B,UA3FdjN,IAAMkF,WAiGZuJ,U,aCjGf3L,IAASsL,OACP,kBAACqC,EAAA,KAAD,KACE,kBAACC,EAAA,KAAD,KACE,kBAACC,EAAA,KAAD,CAAOC,MAAK,KAACnI,KAAK,WAAWoI,UAAY5N,UACzC,kBAAC0N,EAAA,KAAD,CAAOC,MAAK,KAACnI,KAAK,SAASoI,UAAYpC,KACvC,kBAACkC,EAAA,KAAD,CAAOC,MAAK,KAACnI,KAAK,SAASoI,UAAYpC,KACvC,kBAACkC,EAAA,KAAD,CAAOE,UAAYpC,OAGtBpL,SAASQ,eAAe,W","file":"static/js/main.a0da887d.chunk.js","sourcesContent":["module.exports = React;","const date = (new Date()).toISOString();\n\nexport const pages = {\n  page: {\n    id: 1,\n    content: {\n      raw: '',\n      rendered: '',\n    },\n    date,\n    date_gmt: date,\n    title: {\n      raw: 'Preview page',\n      rendered: 'Preview page',\n    },\n    excerpt: {\n      raw: '',\n      rendered: '',\n    },\n    status: 'draft',\n    revisions: { count: 0, last_id: 0 },\n    parent: 0,\n    theme_style: true,\n    type: 'page',\n    link: `${window.location.origin}/preview`,\n    categories: [ ],\n    featured_media: 0,\n    permalink_template: `${window.location.origin}/preview`,\n    preview_link: `${window.location.origin}/preview`,\n    _links: {\n      'wp:action-assign-categories': [],\n      'wp:action-create-categories': [],\n    },\n  },\n  post: {\n    id: 1,\n    content: {\n      raw: '',\n      rendered: '',\n    },\n    date,\n    date_gmt: date,\n    title: {\n      raw: 'Preview post',\n      rendered: 'Preview post',\n    },\n    excerpt: {\n      raw: '',\n      rendered: '',\n    },\n    status: 'draft',\n    revisions: { count: 0, last_id: 0 },\n    parent: 0,\n    theme_style: true,\n    type: 'post',\n    link: `${window.location.origin}/preview`,\n    categories: [ ],\n    featured_media: 0,\n    permalink_template: `${window.location.origin}/preview`,\n    preview_link: `${window.location.origin}/preview`,\n    _links: {\n      'wp:action-assign-categories': [],\n      'wp:action-create-categories': [],\n    },\n  },\n};\n\n\nexport function getPage (type = 'page') {\n  return JSON.parse(localStorage.getItem('g-editor-page')) || pages[type];\n}\n\nexport function savePage (data, type = 'page') {\n  const item = {\n    ...getPage(type),\n    id: data.id || 1, // to prevent when id isn't passed as data (ex: autosaves)\n  };\n\n  if(data.title) {\n    item.title = {\n      raw: data.title,\n      rendered: data.title,\n    };\n  }\n  if(data.content) {\n    item.content = {\n      raw: data.content,\n      // rendered: data.content.replace(/(<!--.*?-->)/g, ''),\n    };\n  }\n  if(data.excerpt) {\n    item.excerpt = {\n      raw: data.excerpt,\n      rendered: data.excerpt,\n    };\n  }\n\n  localStorage.setItem('g-editor-page', JSON.stringify(item));\n}\n\nexport function changeType (type) {\n  const item = getPage(type);\n  item.type = type;\n\n  localStorage.setItem('g-editor-page', JSON.stringify(item));\n}\n\nexport function deletePage () {\n  // Workaround to wait until the POST request (that is called after DELETE)\n  // is finished.\n  setTimeout(function () {\n    localStorage.removeItem('g-editor-page');\n    sessionStorage.removeItem('wp-autosave-block-editor-post-1');\n    window.location.reload();\n  }, 500);\n}\n","module.exports = ReactDOM;","import React from 'react';\nimport { getPage } from '../globals/fake-data';\n\nconst { domReady } = window.wp;\n\n\nclass Preview extends React.Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      rendered: '',\n    };\n  }\n\n  componentWillMount () {\n    // remove block editor style from page\n    const editorStyle = document.querySelector('style[id=\"block-editor-style\"]');\n    if (editorStyle) {\n      editorStyle.remove();\n    }\n\n    // remove editor style\n    const style = document.querySelector('link[href$=\"css/gutenberg/style.css\"]');\n    if (style) {\n      style.remove();\n    }\n  }\n\n  componentDidMount () {\n    const page = getPage();\n    const rendered = (\n      page && page.content && page.content.raw &&\n      page.content.raw.replace(/(<!--.*?-->)/g, '')\n    ) || '';\n\n    this.setState({\n      rendered,\n    });\n\n    domReady(() => {\n      // Load the frontend scripts\n      const code = document.getElementById('frontend-scripts');\n      if (code && code.innerText) {\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n        script.src = `data:text/javascript;base64,${code.innerText}`;\n        document.body.appendChild(script);\n      }\n\n      // Load html blocks scripts\n      const html = rendered.trim();\n      const container = document.createElement('div');\n      container.innerHTML = html;\n\n      const scripts = container.getElementsByTagName('script');\n      for(const s of scripts) {\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n\n        if (s.innerText) {\n          // inner script\n          const frontendScript = Buffer.from(s.innerText).toString('base64');\n          script.src = `data:text/javascript;base64,${frontendScript}`;\n        }\n        else {\n          // or from external src\n          script.src = s.src;\n        }\n\n        document.body.appendChild(script);\n      }\n    });\n  }\n\n  render () {\n    const { rendered } = this.state;\n    return rendered ?\n      <div dangerouslySetInnerHTML={{ __html: rendered }} /> :\n      <center><em>Add your custom block in the editor</em></center>;\n  }\n}\n\nexport default Preview;\n","\n// User settings\nwindow.userSettings = {\n  secure: '',\n  time: 1234567,\n  uid: 1,\n};\n\n// API settings\nwindow.wpApiSettings = {\n  root: window.location.origin + '/',\n  nonce: '123456789',\n  versionString: 'wp/v2/',\n};\n\n// postboxes\nwindow.postboxes = window.postboxes || {\n  add_postbox_toggles: (page, args) => {\n    console.log('page', page);\n    console.log('args', args);\n  },\n};\n","const date = (new Date()).toISOString();\nconst origin = window.location.origin;\n\n// List of images\nexport const mediaList = [];\n\nexport function getMedia (id, params = {}) {\n  const sizes = {};\n  if (params.thumbnail) {\n    sizes.thumbnail = {\n      source_url: params.thumbnail,\n    };\n  }\n\n  return {\n    id,\n    title: { raw: '', rendered: '' },\n    caption: { raw: '', rendered: '' },\n    date_gmt: date,\n    date,\n    media_type: params.media_type,\n    mime_type: params.mime_type,\n    source_url: params.source_url,\n    // link: params.source_url,\n    media_details: {\n      file: '',\n      width: 0,\n      height: 0,\n      image_meta: {},\n      sizes,\n    },\n  };\n}\n\nexport function createMedia (file) {\n  return new Promise(resolve => {\n    const reader = new window.FileReader();\n    reader.onload = () => {\n      // Create media and add to list\n      const img = getMedia(mediaList.length + 1, {\n        media_type: file.type.split('/')[0],\n        mime_type: file.type,\n        source_url: reader.result,\n      });\n      mediaList.push(img);\n      resolve(img);\n    };\n    reader.readAsDataURL(file);\n  });\n}\n\n\n// Load media (images)\nmediaList.push(getMedia(1, {\n  media_type: 'image',\n  mime_type: 'image/jpeg',\n  source_url: `${origin}/media/img1.jpg`,\n}));\n\nmediaList.push(getMedia(2, {\n  media_type: 'image',\n  mime_type: 'image/jpeg',\n  source_url: `${origin}/media/img2.jpeg`,\n}));\n\nmediaList.push(getMedia(3, {\n  media_type: 'image',\n  mime_type: 'image/png',\n  source_url: `${origin}/media/img3.png`,\n}));\n\n\n// Load media (videos)\nmediaList.push(getMedia(4, {\n  media_type: 'video',\n  mime_type: 'video/mp4',\n  source_url: `${origin}/media/video1.mp4`,\n  thumbnail: `${origin}/media/video1-thumb.jpg`,\n}));\n\nmediaList.push(getMedia(5, {\n  media_type: 'video',\n  mime_type: 'video/mp4',\n  source_url: `${origin}/media/video2.mp4`,\n  thumbnail: `${origin}/media/video2-thumb.jpg`,\n}));\n\n\n// Load media (audios)\nmediaList.push(getMedia(6, {\n  media_type: 'audio',\n  mime_type: 'audio/mp3',\n  source_url: `${origin}/media/audio1.mp3`,\n  thumbnail: `${origin}/media/audio1-thumb.png`,\n}));\n","import providers from 'oembed-providers';\n\nexport async function getEmbed (url) {\n  // Proxy that we use that enables cross-origin requests\n  // https://cors-anywhere.herokuapp.com/\n  const cors_api_host = 'https://cors-anywhere.herokuapp.com/';\n  const hostname = (new URL(url)).hostname;\n\n  // Find the provider\n  const provider = providers.find(({ provider_url }) => {\n    return provider_url.includes(hostname) || hostname.includes(provider_url);\n  });\n\n  if(provider && provider.endpoints) {\n    // Use the first endpoint\n    const provider_url = provider.endpoints[0].url;\n\n    // Fetch embed to provider through the proxy\n    const response = await fetch(`${cors_api_host}${provider_url}?url=${url}`);\n    return response.json();\n  }\n}\n","\nimport { getPage, savePage, deletePage } from './fake-data.js';\nimport { mediaList, createMedia } from './fake-media.js';\nimport { getEmbed } from './embeds.js';\n\nimport users from '../data/users';\nimport taxonomies from '../data/taxonomies';\nimport categories from '../data/categories';\nimport types from '../data/types';\nimport themes from '../data/themes';\n\n\nexport default [\n  // Pages and posts\n  {\n    path: '/wp/v2/pages',\n    method: '*',\n    handler () {\n      return [ getPage() ];\n    },\n  },\n  {\n    path: [\n      '/wp/v2/pages/{id}',\n      '/wp/v2/pages/{id}/autosaves',\n    ],\n    method: ['POST', 'PUT'],\n    handler ({ payload }) {\n      savePage(payload);\n      return getPage();\n    },\n  },\n  {\n    path: '/wp/v2/pages/{id}',\n    method: 'DELETE',\n    handler () {\n      deletePage();\n      return {};\n    },\n  },\n  {\n    path: [\n      '/wp/v2/pages/{id}',\n      '/wp/v2/pages/{id}/autosaves',\n    ],\n    method: '*',\n    handler () {\n      return getPage();\n    },\n  },\n\n  {\n    path: '/wp/v2/posts',\n    method: '*',\n    handler () {\n      return [ getPage('post') ];\n    },\n  },\n  {\n    path: '/wp/v2/posts/{id}',\n    method: 'DELETE',\n    handler () {\n      deletePage();\n      return {};\n    },\n  },\n  {\n    path: [\n      '/wp/v2/posts/{id}',\n      '/wp/v2/posts/{id}/autosaves',\n    ],\n    method: ['POST', 'PUT'],\n    handler ({ payload }) {\n      savePage(payload);\n      return getPage('post');\n    },\n  },\n  {\n    path: [\n      '/wp/v2/posts/{id}',\n      '/wp/v2/posts/{id}/autosaves',\n    ],\n    method: '*',\n    handler () {\n      return getPage('post');\n    },\n  },\n\n  // Media\n  {\n    path: '/wp/v2/media',\n    method: 'OPTIONS',\n    handler () {\n      return {\n        headers: {\n          get (value) {\n            if (value === 'allow') { return [ 'POST' ]; }\n          },\n        },\n      };\n    },\n  },\n  {\n    path: '/wp/v2/media',\n    method: 'POST',\n    async handler ({ payload }) {\n      const file = payload.get('file');\n      return file ? await createMedia(file) : {};\n    },\n  },\n  {\n    path: '/wp/v2/media',\n    method: '*',\n    handler () {\n      return mediaList;\n    },\n  },\n  {\n    path: '/wp/v2/media/{id}',\n    method: '*',\n    handler ({ params }) {\n      return mediaList[+params.id - 1];\n    },\n  },\n\n\n  // Types\n  {\n    path: '/wp/v2/types',\n    method: '*',\n    handler () {\n      return types;\n    },\n  },\n  {\n    path: '/wp/v2/types/{type}',\n    method: '*',\n    handler ({ params }) {\n      return types[params.type] || {};\n    },\n  },\n\n  // Blocks\n  {\n    path: '/wp/v2/blocks',\n    method: '*',\n    handler () {\n      return [];\n    },\n  },\n\n  // Themes\n  {\n    path: '/wp/v2/themes',\n    method: '*',\n    handler () {\n      return themes;\n    },\n  },\n\n  // Taxonomies\n  {\n    path: '/wp/v2/taxonomies',\n    method: '*',\n    handler () {\n      return new window.Response(JSON.stringify(taxonomies));\n    },\n  },\n  {\n    path: '/wp/v2/taxonomies/{type}',\n    method: '*',\n    handler ({ params }) {\n      return taxonomies[params.type] || {};\n    },\n  },\n\n  // Categories\n  {\n    path: '/wp/v2/categories',\n    method: '*',\n    handler () {\n      return categories;\n    },\n  },\n\n  // Users\n  {\n    path: '/wp/v2/users/',\n    method: '*',\n    handler () {\n      return new window.Response(JSON.stringify(users));\n    },\n  },\n  {\n    path: '/wp/v2/users/{name}',\n    method: '*',\n    handler () {\n      return users[0] || {};\n    },\n  },\n\n  // Block renderer\n  {\n    path: '/wp/v2/block-renderer/{block*}',\n    method: '*',\n    handler ({ params }) {\n      return {\n        rendered: `<div>Sorry. There is no server-side rendering available for \"${params.block}\".</div>`,\n      };\n    },\n  },\n\n  // Search\n  {\n    path: '/wp/v2/search',\n    method: '*',\n    handler () {\n      return [];\n    },\n  },\n\n  // Embed\n  {\n    path: '/oembed/1.0/proxy',\n    method: '*',\n    handler ({ query }) {\n      return getEmbed(query.url);\n    },\n  },\n];\n","\nimport routes from './api-routes';\n\n\nfunction matchRoute (pattern, pathname) {\n  const res = {};\n  const r = pattern.split('/'), p = pathname.split('/');\n  const l = Math.max(r.length, p.length);\n\n  let i = 0;\n  for(; i < l; i++) {\n    if(r[i] === p[i]) {\n      continue;\n    }\n    if(!r[i] || !p[i]) {\n      return false;\n    }\n    if(r[i].charAt(0) === '{' && r[i].charAt(r[i].length - 1) === '}') {\n      const param = r[i].slice(1, -1);\n      if(param.includes('*')) {\n        res[param.replace('*', '')] = p.slice(i).join('/');\n        return res;\n      }\n      res[param] = p[i];\n      continue;\n    }\n    return false;\n  }\n  return res;\n}\n\nfunction matchRouteList (options, pathname) {\n  if(typeof options === 'string') {\n    return matchRoute(options, pathname);\n  }\n\n  for(const pattern of options) {\n    const params = matchRoute(pattern, pathname);\n    if(params) {\n      return params;\n    }\n  }\n  return false;\n}\n\nfunction matchMethod (source, target) {\n  return !target || target === '*' || target === source || target.includes(source);\n}\n\nfunction parseQS (qs) {\n  return qs.split('&').reduce((a, i, p) => {\n    p = i.split('=');\n    a[decodeURIComponent(p[0])] = decodeURIComponent(p[1] || '');\n    return a;\n  }, {});\n}\n\n\nconst apiFetch = options => {\n  let { method = 'GET' } = options;\n  const { path, data, body, url, headers } = options;\n  const [ pathname, _qs ] = path.split('?');\n  const query = parseQS(_qs);\n  const payload = data || body;\n\n  if(headers && headers['X-HTTP-Method-Override']) {\n    method = headers['X-HTTP-Method-Override'];\n  }\n\n  // console.log(method, pathname);\n\n  for(const r of routes) {\n    const params = matchRouteList(r.path, pathname);\n    if(params) {\n      if(matchMethod(method, r.method)) {\n        return r.handler({\n          method, url, pathname, params, query, payload,\n        });\n      }\n    }\n  }\n\n  console.error('Unmatched route:', method, path, payload);\n  return {};\n};\n\nexport default apiFetch;\n","\nimport apiFetch from '../globals/api-fetch';\n\nconst {\n  use,\n  createNonceMiddleware,\n  createRootURLMiddleware,\n  setFetchHandler,\n} = window.wp.apiFetch;\n\nconst nonceMiddleware = createNonceMiddleware(window.wpApiSettings.nonce);\n\nuse(nonceMiddleware);\n\nwindow.wp.hooks.addAction(\n  'heartbeat.tick',\n  'core/api-fetch/create-nonce-middleware',\n  function (response) {\n    if (response.rest_nonce) {\n      nonceMiddleware.nonce = response.rest_nonce;\n    }\n  }\n);\n\nuse(createRootURLMiddleware(window.wpApiSettings.root));\n\nsetFetchHandler(apiFetch);\n","\nimport { Component, Fragment } from 'react';\nimport './media-library.scss';\n\nconst { wp, lodash } = window;\nconst { get } = lodash;\n\nconst { __ } = wp.i18n;\nconst { Popover } = wp.components;\nconst { withSelect } = wp.data;\nconst { addFilter } = wp.hooks;\n\n\nclass MediaContainer extends Component {\n  constructor (props) {\n    super(props);\n    this.onImageClick = this.onImageClick.bind(this);\n  }\n\n  onImageClick (img) {\n    const { onSelect, closePopover, gallery = false, multiple = false } = this.props;\n\n    const imgObject = {\n      alt: img.alt_text,\n      caption: img.caption.raw,\n      id: img.id,\n      link: img.link,\n      mime: img.mime_type,\n      sizes: img.media_details.sizes,\n      media_details: img.media_details,\n      subtype: img.mime_type.split('/')[ 1 ],\n      type: img.mime_type.split('/')[ 0 ],\n      url: img.source_url,\n      data: img.data,\n    };\n\n    if (gallery || multiple) {\n      onSelect([imgObject]);\n    }\n    else {\n      onSelect(imgObject);\n    }\n    closePopover();\n  }\n\n  render () {\n    const { media, allowedTypes = [] } = this.props;\n    const items = media && media.filter(item => ! allowedTypes.length || allowedTypes.includes(item.media_type));\n    return (\n      <div className=\"media-library__popover__content\">\n        { items && items.map(item => {\n          const sourceUrl = get(item, 'media_details.sizes.thumbnail.source_url') ||\n            (item.media_type === 'image' && item.source_url);\n          const buttonStyle = sourceUrl ? { backgroundImage: `url(${sourceUrl})` } : {};\n\n          return <button\n            key={ item.id }\n            className=\"media-library-thumbnail\"\n            style={ buttonStyle }\n            onClick={ () => this.onImageClick(item) }\n          ></button>;\n        }) }\n      </div>\n    );\n  }\n}\n\n\nconst MediaLibrary = withSelect(select => ({\n  media: select('core').getMediaItems(),\n}))(MediaContainer);\n\n\nclass MediaUpload extends Component {\n  constructor (props) {\n    super(props);\n    this.state = { isVisible: false };\n\n    this.openPopover = this.openPopover.bind(this);\n    this.closePopover = this.closePopover.bind(this);\n  }\n\n  openPopover () {\n    this.setState({ isVisible: true });\n  }\n\n  closePopover () {\n    this.setState({ isVisible: false });\n  }\n\n  render () {\n    if (!this.props.mediaLibrary) {\n      console.log('Media Library is deactivated');\n      return false;\n    }\n\n    const { isVisible } = this.state;\n\n    return <Fragment>\n      { isVisible &&\n      <Popover\n        className=\"media-library__popover\"\n        onClose={ this.closePopover }\n        onClick={ event => event.stopPropagation() }\n        position=\"middle left\"\n        headerTitle={ __('Media Library') }\n      >\n        <MediaLibrary\n          { ...this.props }\n          closePopover={ this.closePopover }\n        />\n      </Popover>\n      }\n      { this.props.render({ open: this.openPopover }) }\n    </Fragment>;\n  }\n}\n\n\nconst replaceMediaUpload = () => withSelect(select => ({\n  mediaLibrary: select('core/editor').getEditorSettings().mediaLibrary,\n}))(MediaUpload);\n\n\naddFilter(\n  'editor.MediaUpload',\n  'core/edit-post/components/media-upload/replace-media-upload',\n  replaceMediaUpload,\n);\n","import React from 'react';\nimport types from '../data/types';\nimport { changeType } from '../globals/fake-data';\n\nimport './editor.scss';\n\nconst { data, editPost, domReady } = window.wp;\n\n\nclass Editor extends React.Component {\n  constructor (props) {\n    super(props);\n\n    let type = window.location.pathname.replace(/\\//g, '');\n    type = type.slice(0, -1);\n\n    this.state = {\n      postType: type || 'page',\n    };\n  }\n\n  componentDidMount () {\n    const { postType } = this.state;\n\n    const settings = {\n      alignWide: true,\n      availableTemplates: [],\n      allowedBlockTypes: true,\n      disableCustomColors: false,\n      disableCustomFontSizes: false,\n      disablePostFormats: false,\n      titlePlaceholder: 'Add title',\n      bodyPlaceholder: 'Insert your custom block',\n      isRTL: false,\n      autosaveInterval: 3,\n      style: [],\n      imageSizes: [],\n      richEditingEnabled: true,\n      postLock: {\n        isLocked: false,\n      },\n      postLockUtils: {\n        nonce: '123456789',\n      },\n      enableCustomFields: true,\n      mediaLibrary: true,\n    };\n\n    // Disable publish sidebar\n    data.dispatch('core/editor').disablePublishSidebar();\n\n    // Disable tips\n    data.dispatch('core/nux').disableTips();\n\n    // Initialize the editor\n    window._wpLoadBlockEditor = new Promise(resolve => {\n      domReady(() => {\n        resolve(editPost.initializeEditor('editor', postType, 1, settings, {}));\n      });\n    });\n  }\n\n  resetLocalStorage = ev => {\n    ev.preventDefault();\n\n    localStorage.removeItem('g-editor-page');\n    sessionStorage.removeItem('wp-autosave-block-editor-post-1');\n    window.location.reload();\n  };\n\n  changePostType = (ev, type) => {\n    ev.preventDefault();\n    // update postType in localStorage before reload the editor\n    const slug = type.slice(0, -1);\n    changeType(slug);\n\n    window.location.replace(type);\n  };\n\n  render () {\n    const { postType } = this.state;\n\n    return (\n      <React.Fragment>\n        <div className=\"editor-nav\">\n          {\n            ['post', 'page'].map(type => {\n              return (\n                <button\n                  key={ type }\n                  className={ `components-button ${type === postType ? 'is-primary' : ''}` }\n                  onClick={ ev => this.changePostType(ev, types[type].rest_base) }\n                >{ types[type].name }</button>\n              );\n            })\n          }\n\n          <button type=\"button\" className=\"components-button is-tertiary\"\n            onClick={ this.resetLocalStorage }>Clear page and reload</button>\n        </div>\n        <div id=\"editor\" className=\"gutenberg__editor\"></div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Editor;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport './core';\n\nimport Editor from './pages/editor';\nimport Preview from './pages/preview';\n\nReactDOM.render((\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/preview\" component={ Preview } />\n      <Route exact path=\"/posts\" component={ Editor } />\n      <Route exact path=\"/pages\" component={ Editor } />\n      <Route component={ Editor } />\n    </Switch>\n  </BrowserRouter>\n), document.getElementById('root'));\n"],"sourceRoot":""}